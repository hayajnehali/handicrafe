@model IEnumerable<handicrafe.Models.Sale>

@{
    ViewData["Title"] = "Sales";
    Layout = "~/Views/Shared/admin_layout.cshtml";
}

 
<style>
    .input{
        border: none;
    color: #000;
    padding: 6px 70px;
    border-radius: 5px;
    box-shadow: rgb(0 0 0 / 25%) 0px 54px 55px, 
    rgb(0 0 0 / 12%) 0px -12px 30px, 
    rgb(0 0 0 / 12%) 0px 4px 6px,
    rgb(0 0 0 / 17%) 0px 12px 13px, 
    rgb(0 0 0 / 9%) 0px -3px 5px;
    }


    .itemv{
        width:300px;    box-shadow: rgb(0 0 0 / 35%) 0px 5px 15px; border-radius: 18px;
        padding: 17px;
        background-color: #eeeeee;
        display:flex;
        font-family: auto;
        font-size: 19px;
        margin:10px;
        letter-spacing: 2px;
        padding:13px 39px !important;
        
    }
    .itemv .icon i{
        position:absolute;
            position: absolute;
            top: -13px;
            left: -15px;
            font-size: 2.5em;
            color: #33b35a;
            padding:3px
    }

    .value{
        font-size: 3em;
        font-weight: 400;
        padding: 0;
        color:#000"
    }

    .datespan{
        position: absolute;
        padding: 7px 17px;
        box-shadow: rgb(17 17 26 / 10%) 0px 1px 0px, rgb(17 17 26 / 10%) 0px 8px 24px,
                    rgb(17 17 26 / 10%) 0px 16px 48px;
    }

    .buttons-pdf {
            border: none;
    padding: 5px 32px;
    border-radius: 3px;
    position: absolute;
    box-shadow: rgb(17 17 26 / 10%) 0px 1px 0px, rgb(17 17 26 / 10%) 0px 8px 24px, rgb(17 17 26 / 10%) 0px 16px 48px;
    }

    .dataTables_filter input{
            border: navajowhite;
    box-shadow: rgb(50 50 105 / 15%) 0px 2px 5px 0px, rgb(0 0 0 / 5%) 0px 1px 1px 0px;
    padding: 2px 8px;
    }
</style>



<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<link href="~/Content/bootstrap.css" rel="stylesheet" />
<link href="https://cdn.datatables.net/1.10.15/css/dataTables.bootstrap.min.css" rel="stylesheet" />
<link href="https://cdn.datatables.net/responsive/2.1.1/css/responsive.bootstrap.min.css" rel="stylesheet" />
<script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap4.min.js "></script>




<div  class="row" style="display:flex;justify-content:space-around;margin-top:-65px !important ">


    <div class="col-2 itemv">


        <div class="icon">
            <i class="fa fa-y-combinator-square"></i>
        </div>
        <div>
            Number  Vendor<br />

            <div class="value">
                @ViewBag.numberOfVendor
            </div>
        </div>
    </div>  

    <div class="col-2 itemv">
        <div class="icon">
            <i class="fa fa-product-hunt" style="font-size: 1.5em;color: #33b35a;padding:3px"></i>
        </div>
        <div>
                Number Product <br />
            <div class="value">
                @ViewBag.numberOfVendor
            </div>
        </div>
    </div> 
    
    
    <div class="col-2 itemv">
        <div class="icon">
            <i class="fa fa-money" ></i>
        </div>
        <div>
            Profits <br />

            <div class="value" style="padding-top:1.5rem">
                @ViewBag.Profits<span style="font-size:20px;color:#000">$</span>
            </div>
        </div>
    </div>  
    
    
    <div class="col-2 itemv">
        <div class="icon">
            <i class="fa fa-tag" style="font-size: 1.5em;color: #33b35a;padding:3px"></i>
        </div>
        <div>
            Target <br />

            <div class="value" style="padding-top:1.5rem">
                @ViewBag.target<span style="font-size:20px;color:#000">$</span>
            </div>
        </div>
    </div> 
    
    <div class="col-2 itemv">
            <div class="icon">
                <i class="fa fa-safari" style="font-size: 1.5em;color: #33b35a;padding:3px"></i>
            </div>
            <div>Pieces sold<br />

            <div class="value">
                    @ViewBag.sale <span style="font-size:20px;color:#000"></span>
                </div>
            </div>
    </div> 
    
    
@*    <div class="col-2 itemv">
        <div class="icon">
            <i class="fa fa-y-combinator-square" style="font-size: 1.5em;color: #33b35a;padding:3px"></i>
        </div>
        <div>
            Number  Vendor<br />

            <div class="value">
                @ViewBag.numberOfVendor
            </div>
        </div>
    </div>

*@
    <div class="col-9 itemv">
        <canvas id="myChart"></canvas>
    </div>
</div>













<div style="margin-top:100px;margin-bottom:50px">
    <form asp-action="Sales" class="d-flex " style="justify-content:space-around">
        <div >
            <span class="datespan">Start </span>
            <input type="date" name="first_date" class="input" />
        </div>
        <div>
            <span class="datespan">End </span>
            <input type="date" name="last_date" class="input" />
        </div> 
        <div>
            <input type="submit" value="Search" style="background-color: #ff9931;
    border: none;
    padding: 3px 16px;
    border-radius: 9px;
    box-shadow: rgb(50 50 93 / 25%) 0px 50px 100px -20px, rgb(0 0 0 / 30%) 0px 30px 60px -30px, rgb(10 37 64 / 35%) 0px -2px 6px 0px inset;
}" />
        </div>


    </form>
</div>




<table id="example" class="table table-striped table-bordered" style="width:100%;    
box-shadow: rgb(0 0 0 / 25%) 0px 54px 55px, rgb(0 0 0 / 12%) 0px -12px 30px, rgb(0 0 0 / 12%) 0px 4px 6px, 
rgb(0 0 0 / 17%) 0px 12px 13px, rgb(0 0 0 / 9%) 0px -3px 5px;
    padding: 20px;
    border-radius: 10px;background-color:#fff">
        <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.DateSale)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PdfEmail)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IdHandicraftNavigation.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IdNavigation.FName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Quantity)
            </th>
            <th>
                @*@Html.DisplayNameFor(model => model.Quantity)*@
                Price
            </th>
            @*            <th></th>*@
        </tr>
        </thead>
        <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.DateSale)
                </td>
                <td>
@*                    @Html.DisplayFor(modelItem => item.PdfEmail)*@
                    <a href="~/pdf/@item.PdfEmail" target="_blank">Receipt</a>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.IdHandicraftNavigation.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.IdNavigation.FName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Quantity)
                </td>
                <td>
                  @(item.Quantity * item.IdHandicraftNavigation.Price)
                </td>
            </tr>
        }
        </tbody>
 
    </table>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.2.0/jspdf.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>



<script src="https://code.jquery.com/jquery3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.11.1/js/jquery.dataTables.min.js" defer></script>
<script src="https://cdn.datatables.net/buttons/2.0.0/js/dataTables.buttons.min.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/2.0.0/js/buttons.html5.min.js" defer></script>
<script>
    var x = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(ViewBag.year));
    var y = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(ViewBag.count));
    const labels = x;

    const data = {
        labels: labels,
        datasets: [{
            label: 'Sales',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: y,
        }]
    };

    const config = {
        type: 'line',
        data: data,
        options: {}
    };
</script>
<script>
    const myChart = new Chart(
        document.getElementById('myChart'),
        config
    );
    $(document).ready(function () {
        $('#example').DataTable({
            dom: 'Bfrtip',
            buttons: [
 
                'pdfHtml5'
            ]
        });
    });
</script>

